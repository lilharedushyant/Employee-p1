<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.com">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">

<!--  js jquery link -->

<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

<title>Home Page</title>
<link rel="stylesheet" type="text/css" href="style.css">
<script src="https://code.jquery.com/jquery-3.2.1.js"></script>
</head>
<body>

	<!-- Navbar -->

	<nav class="navbar navbar-expand-lg navbar-dark bg-primary text-black">
		<a class="navbar-brand" href="#"> <strong><u>EMPLOYEE
					SYSTEM</u></strong>
		</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent" aria-expanded="false"
			aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item active"><a class="nav-link" href="#"> <strong>Home</strong>
						<span class="sr-only">(current)</span></a></li>
				<li class="nav-item active"><a class="nav-link"
					href="add_employee"> <strong>Add Employee </strong></a></li>

			</ul>

		</div>
	</nav>
	<!-- Navbar -->

	<div th:if=${session.msg} class="container p-2">
		<div class="alert alert-success" role="alert" th:text="${session.msg}">
		</div>
		<th:block th:text="${#session.removeAttribute('msg')}"></th:block>
	</div>

	<div class="container p-5">
		<table class="table table-striped">
			<thead class="bg-primary text-black">
				<tr>
					<th scope="col"><strong>Id</strong></th>
					<th scope="col"><strong>Name</strong></th>
					<th scope="col"><strong>Address</strong></th>
					<th scope="col"><strong>Email</strong></th>
					<th scope="col"><strong>Phone No.</strong></th>
					<th scope="col"><strong>Salary</strong></th>
					<th scope="col"><strong>Action</strong></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each=" e: ${employee}">
					<th th:text="${e.id}"></th>
					<td th:text="${e.name}"></td>
					<td th:text="${e.address}"></td>
					<td th:text="${e.email}"></td>
					<td th:text="${e.phno}"></td>
					<td th:text="${e.salary}"></td>
					<td><a class="btn btn-sm btn-primary"
						th:href="@{/edit/{id}(id=${e.id})}">Edit</a> <a
						class="btn btn-sm btn-danger"
						th:href="@{/delete/{id}(id=${e.id})}">Delete</a></td>
				</tr>
			</tbody>
		</table>
	</div>
	
	<div class="container p-4">
      
       <div class="row">
       
        <div class="col-md-6 offset-md-3">
        
         <div class="card">
         
          <div class="card-body">
          
           <h4 class="text-center text-primary"><u>Add Employee</u></h4>
           
           <form  th:action="@{/register}" method="post">
           
            <div class="form-group">
            <lable>Enter Full Name</lable> <input type="text" class="form-control" name="name">
            </div>
            
            <div class="form-group">
            <lable>Enter Address</lable> <input type="text" class="form-control" name="address">
            </div>
            
            <div class="form-group">
            <lable>Enter Email</lable> <input type="email" class="form-control" name="email">
            </div>
            
            <div class="form-group">
            <lable>Enter Phone No</lable> <input type="number" class="form-control" name="phno">
            </div>
            
            <div class="form-group">
            <lable>Enter Salary</lable> <input type="number" class="form-control" name="salary">
            </div>
            
            <button class="btn btn_sm btn_block btn-block"><strong>SUBMIT</strong></button>
      
      </form>
      
     </div>
     
    </div>
    
   </div>
   
  </div>
  
 </div>
 
 <div class="container p-4">

		<div class="row">

			<div class="col-md-6 offset-md-3">

				<div class="card">

					<div class="card-body">

						<h4 class="text-center text-primary">
							<u>Edit Employee</u>
						</h4>

						<form th:action="@{/update}" method="post" th:object="${employee}">

							<input type="hidden" th:value="${employee.id}" name="id">

							<div class="form-group">
								<lable>Enter Full Name</lable>
								<input type="text" class="form-control" name="name"  id='names'
									th:value="${employee.name}">
									<h6 id="namecheck">..</h6>
							</div>

							<div class="form-group">
								<lable>Enter Address</lable>
								<input type="text" class="form-control" name="address" id='address'
									th:value="${employee.address}">
							</div>

							<div class="form-group">
								<lable>Enter Email</lable>
								<input type="email" class="form-control" name="email" id='email'
									th:value="${employee.email}" >
								
							</div>

							<div class="form-group">
								<lable>Enter Phone No</lable>
								<input type="number" class="form-control" name="phno" id='phno'
									th:value="${employee.phno}">
					
							</div>

							<div class="form-group">
								<lable>Enter Salary</lable>
								<input type="number" class="form-control" name="salary" id='salary'
									th:value="${employee.salary}" >
							</div>

							<button class="btn btn_sm btn-primary btn_block"
								onclick=" validation()">
								<strong>SUBMIT</strong>
							</button>

						</form>

					</div>

				</div>

			</div>

		</div>

	</div>

	<!-- update -->

	<script  type="text/javascript">
	
	$(document).ready(function(){
	
		   $("#namecheck").hide();
		 
		   var error_name = true;
		  
		   $("form_name").focusout(function(){
		      check_name();
		   });
		   
		function validation() {
			alert('Successful')
			
			var name= document.getElementById('names').value;
			alert(name)
			
           if(name == 'null'){	
        	     $("#namecheck").html("Should contain only Characters");
		         $("#namecheck").show();
		         $("#namecheck").css("color","red");
		         error_name = false;
		         return false;
			      } else {
			          $("#namecheck").hide();
			      }		
		    }
		

		   val("SUBMIT").submit(function() {
		      error_name = false;
		      
		      check_name();
		      
		      if (error_name === false) {
		         alert("Submit Successfull");
		         return true;
		      } else {
		         alert("Please Fill the form Correctly");
		         return false;
		      }

		   });
		});
	</script>
 

	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
		integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>
</body>
</html>